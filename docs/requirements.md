# 掲示板アプリ要件定義

今回作成する掲示板アプリの要件定義の内容です。

## 1. はじめに

### プロジェクトの背景
このプロジェクトは、ユーザーがメッセージを投稿できるシンプルな掲示板アプリケーションの開発を目指しています。現代のウェブアプリケーション開発において必要不可欠な技術や手法を学び、実践することを目的としています。

### プロジェクトの目的
- シンプルで使いやすい掲示板インターフェイスを提供する。
- ユーザーがテキストメッセージを投稿、表示、削除できる機能を実装する。
- メッセージのリアルタイム更新をWebSocketを使用して実現する。

### 関係者のリスト
- プロジェクトマネージャー: プロジェクト全体の進捗と品質を管理する責任者。
- バックエンド開発者: KotlinとSpring Bootを使用してバックエンドを開発する担当者。
- フロントエンド開発者: Vue.jsを使用してフロントエンドを開発する担当者。
- デザイナー: ユーザーインターフェイス（UI）とユーザーエクスペリエンス（UX）の設計を担当する。
**個人開発なので一人で対応しています。**

## 2. プロジェクトの範囲

### 概要
アプリケーションは、ユーザーがテキストメッセージを投稿し、リアルタイムでメッセージを更新できるものです。

### プロジェクトの機能要件
- ユーザーはアカウントを作成し、ログインできる。
- ユーザーはログアウトできる。
- ユーザーのパスワードは安全にハッシュ化して保存される。
- ユーザーはプロフィール画像をアップロードできる。
- ユーザーは自己紹介文や連絡先情報をプロフィールに追加できる。
- ユーザーはテキストメッセージを投稿できる。
- ユーザーは投稿したメッセージを編集できる。
- ユーザーは投稿したメッセージを削除できる。
- メッセージは投稿日時とともに表示され、ページネーションまたは無限スクロールで表示され、1ページあたりの表示件数を設定できる。
- メッセージをキーワードやユーザー名を使用して検索できる機能を実装する。
- 新しいメッセージが投稿された場合、他のユーザーにリアルタイムで通知される（WebSocketを利用）。
- ユーザーは通知の設定（新しいメッセージが投稿されたときの通知を受け取る/受け取らない）を変更できる。

### プロジェクトの非機能要件
- システムの障害時にもユーザーデータの損失がないようにデータのバックアップや冗長化を行うこと。
- ユーザーセッションの有効期限を設定し、セッション管理を行う。
- ユーザーがパスワードを忘れた場合、パスワードリセット機能を実装する。

## 3. ユーザー要件

### ユーザーストーリー
1. ユーザーは新しいアカウントを作成できる。アカウント作成時には、ユーザー名、メールアドレス、パスワードが必要。
2. ユーザーは既存のアカウントでログインできる。ログイン時には、メールアドレスとパスワードが必要。
3. ユーザーはログアウトできる。
4. ユーザーはプロフィール画像をアップロードできる。画像のアップロードは一般的な画像フォーマット（JPEG、PNGなど）に対応。
5. ユーザーは自己紹介文や連絡先情報をプロフィールに追加できる。
6. ユーザーはテキストメッセージを投稿できる。メッセージはテキストフォーマットで、最大文字数制限がある（例: 1000文字まで）。
7. ユーザーは投稿したメッセージを編集できる。編集時には、最大文字数制限が適用される。
8. ユーザーは投稿したメッセージを削除できる。
9. ユーザーは投稿したメッセージを検索できる。検索はキーワードやユーザー名を使用して行える。
10. ユーザーは新しいメッセージが投稿された場合、リアルタイムで通知を受け取ることができる。通知の設定（受け取る/受け取らない）が可能。

### ユーザーの役割と権限
1. **一般ユーザー**: アカウントの作成、ログイン、ログアウト、プロフィールの編集、メッセージの投稿・編集・削除、検索、通知の設定が可能。
2. **管理者**: 一般ユーザーの機能に加えて、全てのメッセージの編集・削除、ユーザーアカウントの管理が可能。

## 4. システム要件

### ハードウェア要件
このアプリケーションは標準的なウェブブラウザで動作するため、特別なハードウェア要件はありません。ユーザーが快適に利用できる程度のハードウェアリソースがあれば十分です。

### ソフトウェア要件
- バックエンド: Kotlin言語を使用し、Spring Bootフレームワークをベースに開発されます。
- フロントエンド: Vue.jsフレームワークを使用し、モダンなウェブブラウザ（Google Chrome、Mozilla Firefox、Safariなど）で正常に動作することが目標です。
- データベース: ユーザーアカウント情報やメッセージデータを保存するためのデータベースとして、一般的なリレーショナルデータベース（例: MySQL、PostgreSQL）を使用します。

### インフラストラクチャ要件
- サーバー: アプリケーションはクラウドホスティングプロバイダー（例: AWS、Azure、Google Cloud Platform）上でホストされ、適切なスケーラビリティと可用性を確保します。
- ドメイン: アプリケーションにアクセスするためのドメイン名を取得し、SSL証明書を使用して安全な通信（HTTPS）を実現します。

## 5. データ要件

### データの構造
1. **ユーザーアカウントデータ**
   - ユーザーID: 一意の識別子（整数またはUUID）
   - ユーザー名: テキスト（最大長さ: 255文字）
   - メールアドレス: テキスト（最大長さ: 255文字）
   - パスワード: ハッシュ化されたテキスト（安全なハッシュアルゴリズムを使用）
   - プロフィール画像: 画像データ（ファイルのバイナリデータまたは画像のURL）
   - 自己紹介文: テキスト（最大長さ: 1000文字）
   - 連絡先情報: テキスト（最大長さ: 1000文字）

2. **投稿メッセージデータ**
   - メッセージID: 一意の識別子（整数またはUUID）
   - ユーザーID: メッセージの投稿者を識別するための外部キー（ユーザーアカウントデータとの関連）
   - メッセージ内容: テキスト（最大長さ: 1000文字）
   - 投稿日時: 日時（タイムスタンプ）

### データの取り扱い
- データの保存: ユーザーアカウントデータおよび投稿メッセージデータは、安全なデータベースシステムを使用して永続的に保存されます。
- データのバックアップ: データは定期的にバックアップされ、システム障害時に備えてデータの損失を防ぎます。
- データの暗号化: ユーザーの個人情報やパスワードなどのデータは、転送および保存時に暗号化され、セキュリティを確保します。

## 6. 利用環境

### ユーザーインターフェース
- ユーザーは標準的なウェブブラウザ（Google Chrome、Mozilla Firefox、Safariなど）を使用してアプリケーションにアクセスします。
- インターフェースはシンプルで直感的な操作性を持ち、ユーザーが簡単にメッセージを投稿・編集・削除できるように設計されます。

### デバイスの対応
- ユーザーはデスクトップコンピュータ、ラップトップコンピュータ、タブレット、スマートフォンなど、さまざまなデバイスからアクセスできるように設計されます。

### ブラウザの対応
- ユーザーは主要なウェブブラウザ（Google Chrome、Mozilla Firefox、Safari、Microsoft Edgeなど）の最新バージョンでアプリケーションが正常に動作することが期待されます。

## 7. パフォーマンス要件

### レスポンス時間
- アプリケーションの主要な機能（メッセージの表示、投稿、削除、検索など）におけるレスポンス時間は、通常のユーザーエクスペリエンスを提供する範囲であること。具体的な要求値は以下の通り：
  - メッセージの表示: ユーザーがメッセージを読み込む際の平均レスポンス時間は1秒以内。
  - メッセージの投稿・編集・削除: ユーザーがメッセージを投稿、編集、削除する際のレスポンス時間は1秒以内。

### 同時接続ユーザー数
- アプリケーションは同時に複数のユーザーが利用することを想定しています。システムは最大1000人の同時接続ユーザーをサポートすることが求められます。この場合でもレスポンス時間は低下せず、適切なパフォーマンスを維持する必要があります。

## 8. セキュリティ要件

### ユーザー認証と認可
- ユーザーアカウントの認証には安全な方法（例: ハッシュ化されたパスワードの使用）を採用し、ユーザーの個人情報を保護します。
- ユーザーアカウントへのアクセスは、適切な認可手段によって制御され、権限のないユーザーがプライベートな情報にアクセスできないようにします。

### データ暗号化
- ユーザーの個人情報やセンシティブなデータは、転送および保存時に暗号化されます。SSL/TLSなどのセキュアな通信プロトコルを使用してデータの安全な転送を保証します。

### 脆弱性対策
- セキュリティ脆弱性（例: SQLインジェクション、クロスサイトスクリプティングなど）に対する適切な対策を実施し、悪意のある攻撃からシステムを保護します。
- セキュリティパッチやアップデートがリリースされた場合、迅速に適用してシステムの脆弱性を最小限に抑えます。

## 9. 品質要件

### テスト要件
- ユーザーが投稿したメッセージが正確に表示され、操作が適切に動作することを確認するテストケースを設計し、自動化されたユニットテストと結合テストを実施します。
- システムエラー、ユーザーエラー、ネットワークエラーなど、異常が発生した際の適切なエラーハンドリングをテストします。

### エラーハンドリング
- アプリケーションはユーザーの不正な入力やシステムエラーに対して適切なエラーメッセージを返し、ユーザーに対して分かりやすく説明します。
- エラーメッセージはセキュリティ情報を漏洩しないよう適切に設計され、攻撃者に有益な情報を提供しないようにします。

## 10. 保守とサポート

### バグ修正の要求
- ユーザーまたは関係者からのバグ報告に対して、迅速に対応し修正を行います。バグ修正のための優先度付けを行い、緊急性の高い問題には最優先で対応します。

### サポートの範囲
- ユーザーまたは関係者からの問い合わせやサポートリクエストに対して、適切かつフレンドリーなカスタマーサポートを提供します。一般的な操作方法やトラブルシューティングに関する情報は、適切なドキュメンテーションとして提供し、ユーザーが自己解決できるようサポートします。

### システムの保守
- システムの安定性とパフォーマンスを維持するために、定期的なメンテナンスとアップデートを行います。システムの保守作業はユーザーへの影響を最小限に抑えつつ、適切なタイミングで行います。

## 11. 承認

### 関係者の承認
- このプロジェクトの成果物（ソフトウェア、ドキュメンテーション、テスト結果など）は、以下の関係者の承認を受けることが求められます：
  - プロジェクトマネージャー
  - 開発チームのリーダー
  - クライアントまたはエンドユーザー（必要であれば）

### 承認プロセス
- プロジェクトの主要な成果物が完成した際には、関係者に対して成果物のレビューを依頼します。
- レビュー後、関係者からの承認が得られた場合、成果物は正式なリリースまたは納品の対象となります。

### 変更の承認
- プロジェクトの進行中に変更が必要な場合、変更提案をまとめ、関係者に対してレビューと承認を依頼します。変更の内容、理由、影響範囲などを明確に説明し、変更の承認を得る必要があります。
